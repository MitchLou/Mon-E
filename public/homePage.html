<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon-e</title>
    <link rel="stylesheet" href="homePage.css">
</head>

<body>


    <div class="navbar">
      <nav>
        <img src="images/logo2.png" class="logo">

        <ul>
      <li><a href="promo.html">Mon-e</a></li>
      
      <li><a href="aboutUs.html">About Us</a></li>
      
      
      <li> <a href="homePage.html" >My Account</a></li>

      <li><a href="" >Receipt Scanner</a></li>
      


    </ul>
      <img src="images/account logo.jpg" class="user-pic" onclick="toggleMenu()">

      <div class="sub-menu-wrap" id="subMenu">
        <div class="sub-menu">
            <div class="user-info">
              <h2>User</h2>
            </div>

            <hr>
            
            <a href="editProfile.html" class="sub-menu-link">
              <img src="images/profile.png">
              <p>Edit Profile</p>
              <span>></span>
            </a>

            <a href="settings.html" class="sub-menu-link">
              <img src="images/setting.png">
              <p>Settings and Privacy</p>
              <span>></span>
            </a>
      
            <a href="#" class="sub-menu-link">
              <img src="images/help.png">
              <p>Help and Support</p>
              <span>></span>
            </a>
      
          <button id="logout"><a href="" class="sub-menu-link">
              <img src="images/logout.png">
              <p>Log Out</p>
              <span>></span>
            </a>
          </button> 
        </div>
      </div>

     



    </nav>
    </div>

    <script>
      let subMenu =document.getElementById("subMenu");

      function toggleMenu() {
        subMenu.classList.toggle("open-menu");
      }



    </script>

    
    <h1>Welcome User!</h1>

    <button id="addBank">
      <a href="link.html"></a>
      Add a bank
    </button>

    <script>
      // Function to set the theme based on the value stored in localStorage
      function setTheme() {
          var storedTheme = localStorage.getItem('theme');
          if (storedTheme === 'darkTheme') {
              toggleTheme('darkTheme');
          } else {
              toggleTheme('lightTheme');
          }
      }

      // Function to toggle the theme
      function toggleTheme(theme) {
          var body = document.body;

          if (theme === 'lightTheme') {
              body.style.backgroundColor = 'white';
              body.style.color = 'black';
          } else {
              body.style.backgroundColor = '#333';
              body.style.color = 'white';
          }

          // Remove 'selected' class from all buttons
          var buttons = document.querySelectorAll('.theme-button');
          buttons.forEach(function (button) {
              button.classList.remove('selected');
          });

          // Add 'selected' class to the clicked button
          var clickedButton = document.getElementById(theme);
          clickedButton.classList.add('selected');

          // Store the selected theme in localStorage
          localStorage.setItem('theme', theme);
      
      }
      
      // Call setTheme on page load
      setTheme();
  </script>
<script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
      import { getAuth, signOut, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";
      import { firebaseConfig } from "./firebase.js";

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      
    document.getElementById('logout').addEventListener('click', function (event) {
      event.preventDefault();
          signOut(auth).then(() => {
            window.location.assign("signUp.html")
          }).catch((error) => {
            const errorMessage = error.message;
            console.error('Error signing in:', error.message);
          });
    });




//   let EmailInp = document.getElementById('fill in this') //get email from input box
//   let forgotPassBtn = document.getElementById('fill in this') //when send auth code button is clicked
  

//       //function for reset email
//       //TODO: create a button on settings page for forgot password 
//   let ForgotPassword = () =>{
//   sendPasswordResetEmail(auth, EmailInp.value)
//   .then(() =>{
//       alert("A Password Reset Link has been sent to you Email");

//   })
//   .catch((error) =>{
//       console.log(error.message)
//   })    
// }
// forgotPassBtn.addEventListener('click', ForgotPassword); //runs function on click
// </script>


</body>
</html>
